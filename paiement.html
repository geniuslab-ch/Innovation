<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Paiement - Formation Innovation & Entrepreneuriat | GeniusLab</title>
    <meta name="title" content="Paiement - Formation Innovation & Entrepreneuriat | GeniusLab" />
    <meta name="description"
        content="Finalisez votre inscription √† la formation Innovation & Entrepreneuriat. Paiement s√©curis√© par Stripe. 300 CHF.">
    <meta name="robots" content="noindex, nofollow">
    <link rel="canonical" href="https://geniuslab.ch/paiement.html" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://geniuslab.ch/paiement.html" />
    <meta property="og:title" content="Paiement - Formation GeniusLab" />
    <meta property="og:description" content="Finalisez votre inscription √† la formation Innovation & Entrepreneuriat" />

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Topbar -->
    <div class="topbar">
        <div class="topbar-inner">
            <a href="index.html" class="brand">
                <img src="logo.png" alt="GeniusLab Logo" class="brand-logo">
            </a>
            <div class="topbar-actions">
                <a href="index.html" class="toplink">‚Üê Retour √† l'accueil</a>
            </div>
        </div>
    </div>

    <!-- Payment Hero -->
    <section class="payment-hero">
        <div class="container">
            <div class="payment-hero-content">
                <div class="success-badge">
                    <span class="dot"></span>
                    F√©licitations ! Vous avez √©t√© s√©lectionn√©(e)
                </div>
                <h1>Finalisez votre inscription</h1>
                <p class="payment-subtitle">Vous √™tes √† une √©tape de rejoindre la formation Innovation & Entrepreneuriat
                </p>
            </div>
        </div>
    </section>

    <!-- Payment Content -->
    <section class="section">
        <div class="container">
            <div class="payment-layout">

                <!-- Order Summary -->
                <div class="order-summary">
                    <h2>R√©capitulatif de votre commande</h2>

                    <div class="summary-card">
                        <div class="summary-header">
                            <h3>Formation Innovation & Entrepreneuriat</h3>
                            <div class="formation-badge">Programme complet</div>
                        </div>

                        <div class="summary-details">
                            <div class="detail-row">
                                <span class="detail-icon">üìÖ</span>
                                <div class="detail-content">
                                    <strong>Dur√©e</strong>
                                    <p>4 heures (une matin√©e)</p>
                                </div>
                            </div>

                            <div class="detail-row">
                                <span class="detail-icon">üìç</span>
                                <div class="detail-content">
                                    <strong>Lieu</strong>
                                    <p>Yverdon ¬∑ Fribourg ¬∑ Lausanne ¬∑ Gen√®ve</p>
                                    <small>En fonction du lieu qui arrangera le mieux les participants</small>
                                </div>
                            </div>

                            <div class="detail-row">
                                <span class="detail-icon">üë•</span>
                                <div class="detail-content">
                                    <strong>Format</strong>
                                    <p>Groupe de 12-15 participants maximum</p>
                                </div>
                            </div>

                            <div class="detail-row">
                                <span class="detail-icon">üéì</span>
                                <div class="detail-content">
                                    <strong>Inclus</strong>
                                    <p>Tous les modules, mentorat, acc√®s plateforme, certificat</p>
                                </div>
                            </div>
                        </div>

                        <div class="summary-divider"></div>

                        <div class="summary-pricing">
                            <div class="price-row">
                                <span>Formation compl√®te</span>
                                <span class="price">300 CHF</span>
                            </div>
                            <div class="price-row total">
                                <span>Total √† payer</span>
                                <span class="price-total">300 CHF</span>
                            </div>
                        </div>
                    </div>

                    <!-- Trust Badges -->
                    <div class="trust-badges">
                        <div class="trust-item">
                            <span class="trust-icon">üîí</span>
                            <div>
                                <strong>Paiement s√©curis√©</strong>
                                <p>Cryptage SSL 256-bit</p>
                            </div>
                        </div>
                        <div class="trust-item">
                            <span class="trust-icon">‚úì</span>
                            <div>
                                <strong>Powered by Stripe</strong>
                                <p>Plateforme de paiement mondiale</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Form -->
                <div class="payment-form-container">
                    <div class="payment-card">
                        <h2>Informations de paiement</h2>
                        <p class="payment-description">Paiement s√©curis√© via Stripe. Vos informations bancaires ne sont
                            jamais stock√©es sur nos serveurs.</p>

                        <form id="payment-form">
                            <div class="form-group">
                                <label for="email">Email de confirmation</label>
                                <input type="email" id="email" name="email" required placeholder="votre@email.com">
                                <small>Vous recevrez votre confirmation d'inscription √† cette adresse</small>
                            </div>

                            <div class="form-group">
                                <label for="name">Nom complet</label>
                                <input type="text" id="name" name="name" required placeholder="Jean Dupont">
                            </div>

                            <div class="form-group">
                                <label for="phone">T√©l√©phone</label>
                                <input type="tel" id="phone" name="phone" required placeholder="+41 XX XXX XX XX">
                            </div>

                            <div class="form-notice">
                                <p>En cliquant sur "Continuer vers le paiement", vous serez redirig√© vers notre
                                    plateforme de paiement s√©curis√©e Stripe pour finaliser votre inscription.</p>
                            </div>

                            <button type="submit" id="submit-button" class="btn btn-primary btn-large btn-full">
                                <span id="button-text">Continuer vers le paiement ‚Üí</span>
                                <span id="spinner" class="spinner hidden"></span>
                            </button>
                        </form>

                        <div class="payment-security">
                            <p>üîê Paiement 100% s√©curis√©. Vos informations de carte bancaire seront saisies directement
                                sur la plateforme Stripe (certifi√©e PCI-DSS niveau 1).</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-inner">
                <div class="footer-left">
                    <img src="logo.png" alt="GeniusLab" class="footer-logo">
                    <div>
                        <div class="footer-title">GeniusLab</div>
                        <div class="footer-sub">Innovation & Entrepreneuriat</div>
                    </div>
                </div>
                <div class="footer-right">
                    <a href="mailto:contact@geniuslab.ch" class="footer-link">Contact</a>
                    <a href="#" class="footer-link">Mentions l√©gales</a>
                </div>
            </div>
            <div class="footer-bottom">
                <div>¬© 2025 GeniusLab. Tous droits r√©serv√©s.</div>
            </div>
        </div>
    </footer>

    <script>
        // Handle form submission
        const form = document.getElementById('payment-form');
        const submitButton = document.getElementById('submit-button');
        const buttonText = document.getElementById('button-text');
        const spinner = document.getElementById('spinner');

        form.addEventListener('submit', async function (event) {
            event.preventDefault();

            // Disable submit button
            submitButton.disabled = true;
            buttonText.textContent = 'Redirection en cours...';
            spinner.classList.remove('hidden');

            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;

            try {
                // Appeler le backend pour cr√©er une session Stripe Checkout
                const response = await fetch('/create-checkout-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, name, phone }),
                });

                if (!response.ok) {
                    throw new Error('Erreur lors de la cr√©ation de la session de paiement');
                }

                const { url } = await response.json();

                // Rediriger vers Stripe Checkout
                window.location.href = url;

            } catch (err) {
                console.error('Erreur:', err);
                alert('Une erreur est survenue lors du traitement de votre paiement. Veuillez r√©essayer.');

                // R√©activer le bouton
                submitButton.disabled = false;
                buttonText.textContent = 'Continuer vers le paiement ‚Üí';
                spinner.classList.add('hidden');
            }
        });
    </script>
</body>

</html>